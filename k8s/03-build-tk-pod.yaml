apiVersion: v1
kind: Pod
metadata:
  name: build-tk
  namespace: build
spec:
  containers:
    - name: docker
      image: docker:19.03-git
      command: ["sleep"]
      args: ["100000"]
      volumeMounts:
        - name: workspace
          mountPath: /workspace
        - name: docker-socket
          mountPath: /var/run/docker.sock
      workingDir: /workspace
    - name: kink
      image: polybean/kink
      command: ["sleep"]
      args: ["100000"]
      volumeMounts:
        - name: workspace
          mountPath: /workspace
      workingDir: /workspace
    - name: golang
      image: golang:1.12
      command: ["sleep"]
      args: ["100000"]
      volumeMounts:
        - name: workspace
          mountPath: /workspace
      workingDir: /workspace
  serviceAccount: build
  volumes:
    - name: docker-socket
      hostPath:
        path: /var/run/docker.sock
        type: Socket
    - name: workspace
      emptyDir: {}
